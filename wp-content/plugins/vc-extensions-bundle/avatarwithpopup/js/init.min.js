function detectIE(){var a=window.navigator.userAgent,t=a.indexOf("MSIE ");if(t>0)return parseInt(a.substring(t+5,a.indexOf(".",t)),10);var p=a.indexOf("Trident/");if(p>0){var o=a.indexOf("rv:");return parseInt(a.substring(o+3,a.indexOf(".",o)),10)}var r=a.indexOf("Edge/");return r>0&&parseInt(a.substring(r+5,a.indexOf(".",r)),10)}jQuery(document).ready(function(a){"use strict";a(".cq-avatarwithpopup").each(function(t,p){function o(){C==-1?(a(".cq-avatarwithpopup-popup",r).removeClass("cardOuttop").addClass("hotspotanimate cardIntop"),C=1):(a(".cq-avatarwithpopup-popup",r).removeClass("cardIntop hotspotanimate").addClass("cardOuttop hotspotanimate"),C=-1)}var r=a(this),e=a(this).data("avatartype"),i=a(this).data("avatarimage"),s=parseInt(a(this).data("avatarsize")),c=a(this).data("iconcolor"),n=a(this).data("iconbgcolor"),u=a(this).data("iconsize"),v=a(this).data("popupcolor"),d=(a(this).data("backgroundimage"),a(this).data("triggerby")),h=parseInt(a(this).data("delaytime")),l=a(this).data("avatarshape"),w=parseInt(a(this).data("elementheight")),m=a(this).data("avatartextcolor"),q=a(this).data("contentsize");""!=w&&w>0&&a(".cq-avatarwithpopup-insidecontainer",r).css("height",w),detectIE()&&a(".cq-avatarwithpopup-popup",r).addClass("isIE"),""!=q&&a(".cq-avatarwithpopup-popup",r).css("font-size",q),a(".cq-avatarwithpopup-icon",r).css({color:c,"background-color":n}),""!=m&&a(".cq-avatarwithpopup-avatartitle, .cq-avatarwithpopup-avatarlabel",r).css({color:m}),!a(".cq-avatarwithpopup-avatartitle",r)[0]&&a(".cq-avatarwithpopup-avatarlabel",r)[0]&&a(".cq-avatarwithpopup-avatarlabelcontainer",r).css("margin-top","12px"),""!=v&&a(".cq-avatarwithpopup-title, .cq-avatarwithpopup-title h4, .cq-avatarwithpopup-content",r).css("color",v),""!=s&&s>0&&a(".cq-avatarwithpopup-avatar, .cq-avatarwithpopup-icon, .cq-avatarwithpopup-avatarimage",r).css({width:s,height:s,"line-height":s+"px"}),""!=u&&u&&a(".cq-avatarwithpopup-icon",r).css({"font-size":u}),"avatar-roundlarge"==l?a(".cq-avatarwithpopup-avatar, .cq-avatarwithpopup-icon, .cq-avatarwithpopup-avatarimage",r).css("border-radius","16px"):"avatar-square"==l?a(".cq-avatarwithpopup-avatar, .cq-avatarwithpopup-icon, .cq-avatarwithpopup-avatarimage",r).css("border-radius","0"):"avatar-roundsmall"==l?a(".cq-avatarwithpopup-avatar, .cq-avatarwithpopup-icon, .cq-avatarwithpopup-avatarimage",r).css("border-radius","8px"):a(".cq-avatarwithpopup-avatar, .cq-avatarwithpopup-icon, .cq-avatarwithpopup-avatarimage",r).css("border-radius","50%"),a(".cq-avatarwithpopup-insidecontainer",r).perfectScrollbar(),"image"==e&&""!=i&&a(".cq-avatarwithpopup-avatar",r).css({background:"url("+i+") no-repeat center center","background-size":"cover"});var f,g=-1,I=0,C=-1;"bydefault"==d?(a(".cq-avatarwithpopup-avatar",r).parent().is("a")||a(".cq-avatarwithpopup-avatar",r).css("cursor","default"),setTimeout(function(){a(".cq-avatarwithpopup-popup",r).removeClass("cardOuttop").addClass("hotspotanimate cardIntop")},600)):"hover1"==d?r.on("mouseover",function(t){clearTimeout(f),a(".cq-avatarwithpopup-popup",r).removeClass("cardOuttop").addClass("hotspotanimate cardIntop")}).on("mouseleave",function(t){clearTimeout(f),f=setTimeout(function(){a(".cq-avatarwithpopup-popup",r).removeClass("cardIntop hotspotanimate").addClass("cardOuttop hotspotanimate")},800)}):"hover2"==d?r.on("mouseover",function(t){a(".cq-avatarwithpopup-popup",r).removeClass("cardOuttop").addClass("hotspotanimate cardIntop")}):"slideshow"==d?(I=setInterval(o,1e3*h),r.on("mouseover",function(t){a(".cq-avatarwithpopup-popup",r).removeClass("cardOuttop").addClass("hotspotanimate cardIntop"),clearInterval(I)}).on("mouseleave",function(a){clearInterval(I),I=setInterval(o,1e3*h)})):r.on("click",function(t){g==-1?(a(".cq-avatarwithpopup-popup",r).removeClass("cardOuttop").addClass("hotspotanimate cardIntop"),g=1):(a(".cq-avatarwithpopup-popup",r).removeClass("cardIntop hotspotanimate").addClass("cardOuttop hotspotanimate"),g=-1),t.preventDefault()})})});